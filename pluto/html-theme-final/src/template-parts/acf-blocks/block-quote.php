<?php
/**
 * Block - Quote
 *
 * @package WP-rock
 * @since   4.4.0
 */

// Get block HTML attributes: ID, class list, disabled status, and all ACF fields
/** @var array $args Passed block arguments from ACF render_template */
$attrs = WP_Rock_Blocks::prepare_attrs($args);

// Get all ACF fields associated with this block
$block_fields = $attrs['block_fields'];

// Define individual ACF fields for use in the template
$quote = get_field_value($block_fields, 'quote');
$author = get_field_value($block_fields, 'author');
?>

<section <?php echo $attrs['id_attr'] . ' ' . $attrs['class_attr'] . $attrs['disabled_attr']; ?>>
    <div class="block-quote__background">
        <svg width="1350" height="511" viewBox="0 0 1350 511" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M54.5478 69.3212C48.9186 77.2587 47.7314 87.5336 51.4015 96.5459C43.464 90.9169 33.1889 89.7294 24.1768 93.3995C29.8057 85.4619 30.9935 75.187 27.3231 66.1748C35.2608 71.804 45.5355 72.9915 54.5478 69.3212Z" stroke="black"/>
            <circle cx="900.848" cy="485.74" r="24.6992" stroke="black"/>
            <circle cx="1328.76" cy="378.415" r="19.9141" stroke="black"/>
            <circle cx="12.4414" cy="305.906" r="11.9414" fill="#39BF97" stroke="black"/>
            <circle cx="157.655" cy="455.742" r="8.46729" fill="#DCE6DE" stroke="black"/>
            <circle cx="1214.66" cy="476.771" r="8.46729" fill="#DCE6DE" stroke="black"/>
            <circle cx="304.512" cy="58.2864" r="24.6992" stroke="black"/>
            <path d="M1169.1 290.937L1168.98 291.223L1169.18 291.462L1182.42 307.006L1163.73 298.791L1163.44 298.665L1163.2 298.868L1147.66 312.106L1155.87 293.414L1156 293.127L1155.8 292.889L1142.56 277.343L1161.25 285.56L1161.54 285.685L1161.77 285.483L1177.32 272.243L1169.1 290.937Z" fill="#DCE6DE" stroke="black"/>
            <path d="M1041.17 51.4228C1030.3 50.4363 1019.81 55.7531 1014.18 65.112L1009.88 72.2576L1010.63 63.9522C1011.62 53.0745 1006.3 42.5902 996.943 36.959L989.797 32.6589L998.102 33.4123C1008.98 34.3986 1019.46 29.0808 1025.1 19.7219L1029.4 12.5766L1028.64 20.8817C1027.66 31.7596 1032.97 42.2448 1042.33 47.8761L1049.48 52.1753L1041.17 51.4228Z" stroke="black"/>
            <path d="M159.299 222.949C148.402 222.195 138.033 227.736 132.603 237.213L131.071 239.889L131.283 236.812C132.037 225.915 126.496 215.546 117.019 210.116L114.343 208.583L117.42 208.796C128.316 209.55 138.685 204.009 144.115 194.532L145.649 191.855L145.436 194.933C144.682 205.829 150.222 216.198 159.7 221.628L162.377 223.161L159.299 222.949Z" fill="#DCE6DE" stroke="black"/>
            <path d="M1262.03 132.869C1260.46 125.706 1255.73 115.207 1247.93 120.019C1243.47 122.767 1240.51 127.901 1240.36 133.132C1240.1 142.291 1251.56 141.129 1258.55 138.907M1262.03 132.869C1259.58 125.145 1258.42 111.95 1271.06 115.173M1262.03 132.869C1261.81 131.864 1261.53 130.793 1261.19 129.709M1262.03 132.869C1261.72 131.889 1261.43 130.82 1261.19 129.709M1258.55 138.907C1250.82 141.363 1237.63 142.524 1240.85 129.88C1241.6 126.926 1243.18 124.202 1245.36 122.073C1253.51 114.114 1258.82 122.247 1261.19 129.709M1258.55 138.907C1250.63 140.642 1238.64 146.242 1247.75 155.582C1249.88 157.764 1252.74 159.283 1255.69 160.036C1266.73 162.85 1267.25 153.149 1265.57 145.5M1271.06 115.173C1274.01 115.926 1276.74 117.498 1278.87 119.68C1287.98 129.02 1275.99 134.62 1268.07 136.355C1275.8 133.899 1288.99 132.738 1285.77 145.382C1285.01 148.336 1283.58 151.007 1281.4 153.136C1273.24 161.095 1267.94 152.962 1265.57 145.5M1271.06 115.173C1260.02 112.359 1259.5 122.06 1261.19 129.709M1265.57 145.5C1265.22 144.415 1264.94 143.345 1264.72 142.34C1265.03 143.32 1265.32 144.388 1265.57 145.5Z" stroke="black"/>
            <path d="M255.067 364.906C251.02 375.736 248.418 394.272 265.77 391.533C270.939 390.717 275.837 388.205 279.516 384.483C291.859 371.992 275.269 363.299 264.112 360.267M255.067 364.906C251.967 376.31 242.953 393.392 230.014 379.444M255.067 364.906C254.542 366.311 254.041 367.846 253.605 369.447M255.067 364.906C254.674 366.353 254.185 367.892 253.605 369.447M264.112 360.267C275.517 363.366 292.598 372.381 278.65 385.32C275.391 388.343 271.311 390.436 266.955 391.319C250.671 394.619 250.606 380.462 253.605 369.447M264.112 360.267C275.183 364.404 294.306 367.03 290.525 348.379C289.643 344.022 287.341 339.9 284.318 336.641C273.02 324.463 264.715 335.938 260.726 346.637M230.014 379.444C226.99 376.185 224.898 372.105 224.015 367.748C220.235 349.097 239.357 351.724 250.428 355.861C239.023 352.761 221.942 343.747 235.89 330.807C239.149 327.784 243.02 325.649 247.377 324.766C263.661 321.466 263.725 335.623 260.726 346.637M230.014 379.444C241.311 391.622 249.616 380.146 253.605 369.447M260.726 346.637C260.29 348.239 259.79 349.774 259.264 351.179C259.658 349.732 260.147 348.193 260.726 346.637Z" stroke="black"/>
        </svg>
    </div>
    <div class="container">
        <div class="block-quote__inner">
            <?php if ($quote) { ?>
                <div class="block-quote__text"><?php echo esc_html($quote); ?></div>
            <?php } ?>

            <?php if ($author) { ?>
                <div class="block-quote__author"><?php echo esc_html($author); ?></div>
            <?php } ?>
        </div>
    </div>
</section>
        